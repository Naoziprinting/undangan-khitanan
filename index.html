<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Khitanan - Buat Undangan Digital</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body class="creator-page">
    <!-- Header Navigation -->
    <header class="creator-header">
        <div class="container">
            <nav>
                <h1 class="logo"><i class="fas fa-mosque"></i> Naozi Printing</h1>
                <div class="nav-links">
                    <a href="#home">Beranda</a>
                    <a href="#create">Buat Undangan</a>
                    <a href="#guests">Data Tamu</a>
                    <a href="#messages">Ucapan</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Buat Undangan Khitanan Digital yang Elegan</h1>
                <p>Undangan digital personal dengan backsound, database tamu, dan sistem RSVP otomatis. Gratis dan mudah digunakan.</p>
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-music"></i>
                        <span>Backsound Islami</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-link"></i>
                        <span>Link Personalisasi</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-spreadsheet"></i>
                        <span>Google Sheets Database</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-gift"></i>
                        <span>Ucapan Digital</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Form Pembuatan Undangan -->
    <section class="create-form-section" id="create">
        <div class="container">
            <h2 class="section-title">Buat Undangan Anda</h2>
            <p class="section-subtitle">Isi formulir di bawah untuk membuat undangan digital yang personal</p>
            
            <div class="form-container">
                <form id="invitationForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="childName"><i class="fas fa-child"></i> Nama Anak</label>
                            <input type="text" id="childName" placeholder="Nama anak yang akan dikhitan" required>
                        </div>
                        <div class="form-group">
                            <label for="childAge"><i class="fas fa-birthday-cake"></i> Usia</label>
                            <input type="number" id="childAge" placeholder="Usia anak" min="1" max="20" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="parentName"><i class="fas fa-user"></i> Nama Orang Tua</label>
                            <input type="text" id="parentName" placeholder="Nama orang tua" required>
                        </div>
                        <div class="form-group">
                            <label for="parentPhone"><i class="fas fa-phone"></i> Nomor Telepon</label>
                            <input type="tel" id="parentPhone" placeholder="Nomor kontak" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate"><i class="fas fa-calendar"></i> Tanggal Acara</label>
                            <input type="datetime-local" id="eventDate" required>
                        </div>
                        <div class="form-group">
                            <label for="eventLocation"><i class="fas fa-map-marker-alt"></i> Lokasi Acara</label>
                            <input type="text" id="eventLocation" placeholder="Alamat lengkap acara" required>
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="eventDescription"><i class="fas fa-file-alt"></i> Deskripsi/Kata Sambutan</label>
                        <textarea id="eventDescription" rows="4" placeholder="Tuliskan kata sambutan atau deskripsi acara..."></textarea>
                    </div>
                    
                    <div class="form-group full-width">
                        <label><i class="fas fa-image"></i> Warna Tema Undangan</label>
                        <div class="color-picker">
                            <div class="color-option" data-color="#2E7D32" style="background-color: #2E7D32;"></div>
                            <div class="color-option" data-color="#1565C0" style="background-color: #1565C0;"></div>
                            <div class="color-option" data-color="#6A1B9A" style="background-color: #6A1B9A;"></div>
                            <div class="color-option" data-color="#C62828" style="background-color: #C62828;"></div>
                            <div class="color-option" data-color="#FF8F00" style="background-color: #FF8F00;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <div class="checkbox-group">
                            <input type="checkbox" id="enableMusic" checked>
                            <label for="enableMusic">Aktifkan backsound otomatis</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="enableGuestBook" checked>
                            <label for="enableGuestBook">Aktifkan buku tamu digital</label>
                        </div>
                    </div>
                    
                    <div class="form-submit">
                        <button type="submit" class="btn-create">
                            <i class="fas fa-magic"></i> Buat Undangan Sekarang
                        </button>
                        <p class="form-note">Undangan Anda akan tersimpan otomatis di Google Sheets</p>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Konfigurasi Google Apps Script URL -->
<section class="config-section" id="config">
    <div class="container">
        <h2 class="section-title">Konfigurasi Google Sheets</h2>
        <p class="section-subtitle">Masukkan URL Google Apps Script Web App Anda</p>
        
        <div class="config-container">
            <div class="config-form">
                <div class="form-group">
                    <label for="gasUrl">
                        <i class="fab fa-google"></i> Google Apps Script Web App URL
                    </label>
                    <input type="url" id="gasUrl" placeholder="https://script.google.com/macros/s/.../exec">
                    <p class="form-help">
                        Cara mendapatkan URL: 
                        <a href="#" id="showGasGuide">Klik untuk panduan</a>
                    </p>
                </div>
                
                <div class="form-group">
                    <button id="saveGasUrl" class="btn-config">
                        <i class="fas fa-save"></i> Simpan URL
                    </button>
                    <button id="testConnection" class="btn-test">
                        <i class="fas fa-plug"></i> Test Koneksi
                    </button>
                </div>
                
                <div class="connection-status" id="connectionStatus">
                    <div class="status-indicator offline"></div>
                    <span>Status: Belum terhubung ke Google Sheets</span>
                </div>
            </div>
            
            <div class="config-guide" id="gasGuide">
                <h3><i class="fas fa-info-circle"></i> Panduan Setup Google Apps Script</h3>
                <ol>
                    <li>Buka Google Sheet Anda</li>
                    <li>Klik <strong>Extensions > Apps Script</strong></li>
                    <li>Salin kode dari file <code>google-apps-script.js</code> ke editor</li>
                    <li>Klik <strong>Deploy > New deployment</strong></li>
                    <li>Pilih <strong>Web app</strong> sebagai type</li>
                    <li>Set <strong>Execute as</strong> ke "Me"</li>
                    <li>Set <strong>Who has access</strong> ke "Anyone"</li>
                    <li>Klik <strong>Deploy</strong> dan salin URL yang diberikan</li>
                    <li>Tempelkan URL di atas dan klik <strong>Simpan URL</strong></li>
                </ol>
                <div class="guide-note">
                    <i class="fas fa-lightbulb"></i>
                    <p>Data akan otomatis tersimpan ke Google Sheets setelah konfigurasi ini.</p>
                </div>
            </div>
        </div>
    </div>
</section>
    
    <!-- Bagian Pembuatan Link Tamu -->
    <section class="guest-link-section">
        <div class="container">
            <h2 class="section-title">Buat Link Undangan Personal untuk Tamu</h2>
            <p class="section-subtitle">Setiap tamu akan mendapatkan link unik dengan nama mereka</p>
            
            <div class="link-creator">
                <div class="input-group">
                    <input type="text" id="guestNameInput" placeholder="Masukkan nama tamu undangan">
                    <button id="generateLinkBtn" class="btn-generate">
                        <i class="fas fa-link"></i> Buat Link Personal
                    </button>
                </div>
                
                <div class="link-result" id="linkResult">
                    <p class="link-label">Link undangan untuk tamu:</p>
                    <div class="link-display">
                        <input type="text" id="generatedLink" readonly>
                        <button id="copyLinkBtn" class="btn-copy">
                            <i class="fas fa-copy"></i> Salin
                        </button>
                    </div>
                    <p class="link-info">Kirim link ini kepada tamu. Nama mereka akan muncul otomatis di undangan.</p>
                </div>
                
                <div class="guest-table-container">
                    <h3><i class="fas fa-users"></i> Daftar Tamu & Link Undangan</h3>
                    <div class="table-wrapper">
                        <table id="guestTable">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Nama Tamu</th>
                                    <th>Link Undangan</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="guestTableBody">
                                <!-- Data tamu akan dimuat dari Google Sheets -->
                                <tr class="loading-row">
                                    <td colspan="5">Memuat data tamu...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bagian Ucapan Tamu -->
    <section class="messages-section" id="messages">
        <div class="container">
            <h2 class="section-title">Ucapan dari Tamu</h2>
            <p class="section-subtitle">Semua ucapan akan tersimpan otomatis di Google Sheets</p>
            
            <div class="messages-container">
                <div class="messages-list" id="messagesList">
                    <!-- Daftar ucapan akan dimuat dari Google Sheets -->
                    <div class="message-loading">
                        <i class="fas fa-spinner fa-spin"></i> Memuat ucapan...
                    </div>
                </div>
                
                <div class="messages-stats">
                    <h3><i class="fas fa-chart-bar"></i> Statistik</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="totalGuests">0</div>
                            <div class="stat-label">Total Tamu</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalMessages">0</div>
                            <div class="stat-label">Ucapan</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="confirmedGuests">0</div>
                            <div class="stat-label">Konfirmasi Hadir</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="linksGenerated">0</div>
                            <div class="stat-label">Link Dibuat</div>
                        </div>
                    </div>
                    
                    <div class="export-section">
                        <h4><i class="fas fa-download"></i> Ekspor Data</h4>
                        <p>Data undangan tersimpan otomatis di Google Sheets</p>
                        <button id="openSheetsBtn" class="btn-export">
                            <i class="fab fa-google"></i> Buka Google Sheets
                        </button>
                        <button id="refreshDataBtn" class="btn-refresh">
                            <i class="fas fa-sync-alt"></i> Refresh Data
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="creator-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3><i class="fas fa-mosque"></i> Undangan Khitanan Digital</h3>
                    <p>Platform undangan digital gratis dengan fitur lengkap. Hosting di GitHub Pages, database Google Sheets, dan desain elegan.</p>
                </div>
                <div class="footer-links">
                    <h4>Panduan</h4>
                    <a href="#"><i class="fas fa-question-circle"></i> Cara Menggunakan</a>
                    <a href="#"><i class="fas fa-video"></i> Tutorial Video</a>
                    <a href="#"><i class="fas fa-file-alt"></i> Dokumentasi</a>
                </div>
                <div class="footer-links">
                    <h4>Fitur</h4>
                    <a href="#"><i class="fas fa-music"></i> Backsound Otomatis</a>
                    <a href="#"><i class="fas fa-link"></i> Link Personalisasi</a>
                    <a href="#"><i class="fas fa-spreadsheet"></i> Database Sheets</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 UndanganKhitanan.id - Dibuat dengan <i class="fas fa-heart"></i> untuk umat Muslim</p>
                <div class="hosting-info">
                    <i class="fab fa-github"></i> Hosting di GitHub Pages | 
                    <i class="fab fa-google"></i> Google Sheets Integration
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="script.js"></script>
    <script src="sheets-handler.js"></script>
    <script>
        // Inisialisasi variabel global untuk Google Sheets
        const SHEET_ID = 'YOUR_GOOGLE_SHEET_ID_HERE'; // Ganti dengan ID Google Sheets Anda
        const API_KEY = 'YOUR_GOOGLE_API_KEY_HERE'; // Ganti dengan API Key Anda
        
        // Konfigurasi akan diatur di file sheets-handler.js
    </script>
</body>
</html>
